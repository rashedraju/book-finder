{"version":3,"sources":["hooks/useSearch.js","utils/array.utils.js","containers/Search/Search.js","utils/constants.js","components/Scroller/Scroller.styled.js","components/Scroller/Scroller.js","hooks/useScroll.js","components/Bookshelf/Books/Books.styled.js","components/Bookshelf/Books/Books.js","components/Bookshelf/Bookshelf.styled.js","components/Bookshelf/Bookshelf.js"],"names":["useSearch","useState","books","setBooks","error","setError","processBooks","bookData","data","on","key","title","filter","item","includes","push","removeDuplicateObjectFromArray","book","volumeInfo","imageLinks","map","id","image","smallThumbnail","authors","join","description","search","useCallback","query","a","headers","axios","get","SEARCH_BY_QUERY","response","items","Explore","location","useLocation","useEffect","urlParams","URLSearchParams","SEARCH_BY_ID","ScrollerStyled","styled","div","flexCenter","left","theme","colors","secondary","main","shadow","primary","breakpoint","mobile","Scroller","containerRef","scrollOffset","scrollerRef","useRef","scrollAmount","scrollLeft","scrollWidth","container","current","slideTimer","setInterval","window","clearInterval","parentNode","firstChild","style","display","lastChild","clientWidth","useScroll","scroll","ref","onClick","BookStyled","NavLink","white","dark","textStyle","css","BookTitle","p","BookAuthor","small","Books","to","src","alt","BookshelfStyled","BookWrapper","tablet","center","SkeletonWrapper","Bookshelf","bookshelfRef","length","Array","fill","_","i","Skeleton","variant","width","height","animation","marginBottom"],"mappings":"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","file":"static/js/6.71f5b2db.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { useCallback, useState } from 'react';\r\nimport { removeDuplicateObjectFromArray } from '../utils/array.utils';\r\nimport { SEARCH_BY_QUERY } from '../utils/constants';\r\n\r\nexport const useSearch = () => {\r\n    const [books, setBooks] = useState([]);\r\n    const [error, setError] = useState();\r\n\r\n    const processBooks = (bookData) => {\r\n        const filteredData = removeDuplicateObjectFromArray(\r\n            bookData.filter((book) => !!book.volumeInfo.imageLinks),\r\n            'volumeInfo',\r\n            'title'\r\n        ).map((book) => ({\r\n            id: book.id,\r\n            title: book.volumeInfo.title ?? '',\r\n            image: book.volumeInfo.imageLinks.smallThumbnail ?? '',\r\n            authors: book.volumeInfo.authors?.join(', ') ?? '',\r\n            description: book.volumeInfo.description ?? ''\r\n        }));\r\n\r\n        return filteredData;\r\n    };\r\n\r\n    const search = useCallback(async (query, headers = {}) => {\r\n        try {\r\n            const response = await axios.get(`${SEARCH_BY_QUERY}${query}`, headers);\r\n\r\n            setBooks(processBooks(response.data.items));\r\n        } catch (err) {\r\n            setError(err);\r\n        }\r\n    }, []);\r\n\r\n    return { books, search, error };\r\n};\r\n","export const removeDuplicateObjectFromArray = (data, on, key) => {\r\n    const title = [];\r\n    const uniq = data.filter((item) => {\r\n        if (title.includes(item[on][key])) {\r\n            return false;\r\n        }\r\n        title.push(item[on][key]);\r\n        return true;\r\n    });\r\n    return uniq;\r\n};\r\n","import { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Section, SectionTitle } from '../../assets/styles/Component.styled';\r\nimport Bookshelf from '../../components/Bookshelf/Bookshelf';\r\nimport { useSearch } from '../../hooks/useSearch';\r\n\r\nconst Explore = () => {\r\n    const { books, search } = useSearch();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const urlParams = new URLSearchParams(location.search);\r\n        search(urlParams.get('q'));\r\n    }, [search, location.search]);\r\n\r\n    return (\r\n        <Section>\r\n            <SectionTitle>Search</SectionTitle>\r\n            <Bookshelf books={books} />\r\n        </Section>\r\n    );\r\n};\r\nexport default Explore;\r\n","export const SEARCH_BY_QUERY = 'https://www.googleapis.com/books/v1/volumes?q=';\r\nexport const SEARCH_BY_ID = 'https://www.googleapis.com/books/v1/volumes/';\r\n","import styled from 'styled-components';\r\nimport { flexCenter } from '../../assets/styles/utility.styled';\r\n\r\nexport const ScrollerStyled = styled.div`\r\n    ${flexCenter};\r\n    position: absolute;\r\n    ${({ left }) => {\r\n        if (left) {\r\n            return 'left: 0';\r\n        }\r\n        return 'right: 0';\r\n    }};\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    background-color: ${({ theme }) => theme.colors.secondary.main};\r\n    padding: 1rem 0.5rem;\r\n    cursor: pointer;\r\n    display: ${({ left }) => left && 'none'};\r\n    font-size: 1.5rem;\r\n    z-index: 999;\r\n    box-shadow: ${({ theme }) => theme.shadow.primary.main};\r\n\r\n    @media (max-width: ${({ theme }) => theme.breakpoint.mobile}) {\r\n        display: none;\r\n    }\r\n`;\r\n","import { useRef } from 'react';\r\nimport { MdOutlineArrowBackIos, MdOutlineArrowForwardIos } from 'react-icons/md';\r\nimport { PropTypes } from 'prop-types';\r\nimport { useScroll } from '../../hooks/useScroll';\r\nimport { ScrollerStyled } from './Scroller.styled';\r\n\r\nconst Scroller = ({ containerRef, scrollOffset, left = false }) => {\r\n    const scrollerRef = useRef();\r\n    const [scroll] = useScroll(containerRef, scrollerRef);\r\n\r\n    return (\r\n        <ScrollerStyled ref={scrollerRef} left={left ? 1 : 0} onClick={() => scroll(scrollOffset)}>\r\n            {left ? <MdOutlineArrowBackIos /> : <MdOutlineArrowForwardIos />}\r\n        </ScrollerStyled>\r\n    );\r\n};\r\n\r\nScroller.propTypes = {\r\n    containerRef: PropTypes.oneOfType([\r\n        PropTypes.func,\r\n        PropTypes.shape({ current: PropTypes.instanceOf(Object) })\r\n    ]),\r\n    scrollOffset: PropTypes.number\r\n};\r\n\r\nexport default Scroller;\r\n","/* eslint-disable no-param-reassign */\r\nexport const useScroll = (containerRef, scrollerRef) => {\r\n    const scroll = (scrollOffset) => {\r\n        let scrollAmount = 0;\r\n        let scrollLeft = 0;\r\n        let scrollWidth = 0;\r\n\r\n        const container = containerRef.current ?? null;\r\n\r\n        const slideTimer = setInterval(() => {\r\n            if (container) {\r\n                container.scrollLeft += scrollOffset;\r\n                scrollLeft = container.scrollLeft;\r\n                scrollWidth = container.scrollWidth;\r\n            }\r\n\r\n            scrollAmount += 1;\r\n\r\n            if (scrollAmount >= 4) {\r\n                window.clearInterval(slideTimer);\r\n                container.parentNode.firstChild.style.display = 'block';\r\n                container.parentNode.lastChild.style.display = 'block';\r\n\r\n                if (scrollLeft === 0 || scrollLeft + container.clientWidth >= scrollWidth) {\r\n                    scrollerRef.current.style.display = 'none';\r\n                } else {\r\n                    scrollerRef.current.style.display = 'block';\r\n                }\r\n            }\r\n        }, 25);\r\n    };\r\n\r\n    return [scroll];\r\n};\r\n","import { NavLink } from 'react-router-dom';\r\nimport styled, { css } from 'styled-components';\r\n\r\nexport const BookStyled = styled(NavLink)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    padding: 0.5rem;\r\n    margin: 0.5rem;\r\n    box-shadow: ${({ theme }) => theme.shadow.primary.main};\r\n    max-width: 14rem;\r\n    min-width: 12rem;\r\n    background-color: ${({ theme }) => theme.colors.white};\r\n    color: ${({ theme }) => theme.colors.dark};\r\n    transition: transform 0.2s ease-in;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n        transform: scale(1.05);\r\n    }\r\n\r\n    img {\r\n        width: 8rem;\r\n        height: 11rem;\r\n    }\r\n`;\r\n\r\nconst textStyle = css`\r\n    margin-top: 1rem;\r\n    text-align: center;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n`;\r\n\r\nexport const BookTitle = styled.p`\r\n    ${textStyle};\r\n`;\r\nexport const BookAuthor = styled.small`\r\n    ${textStyle};\r\n`;\r\n","import React from 'react';\r\nimport { PropTypes } from 'prop-types';\r\nimport { BookAuthor, BookStyled, BookTitle } from './Books.styled';\r\n\r\nconst Books = ({ books = [] }) =>\r\n    books.map((book) => (\r\n        <BookStyled to={`book/${book.id}`} key={book.id}>\r\n            <img src={book.image} alt={book.title} />\r\n            <BookTitle>{book.title}</BookTitle>\r\n            <BookAuthor>{book.authors}</BookAuthor>\r\n        </BookStyled>\r\n    ));\r\n\r\nBooks.propTypes = {\r\n    books: PropTypes.arrayOf(PropTypes.object).isRequired\r\n};\r\nexport default Books;\r\n","import styled from 'styled-components';\r\n\r\nexport const BookshelfStyled = styled.div`\r\n    overflow: hidden;\r\n    position: relative;\r\n`;\r\n\r\nexport const BookWrapper = styled.div`\r\n    display: flex;\r\n    overflow: hidden;\r\n    box-shadow: ${({ theme }) => theme.shadow.primary.main};\r\n    @media (max-width: ${({ theme }) => theme.breakpoint.tablet}) {\r\n        flex-direction: column;\r\n    }\r\n\r\n    ${({ center }) => center && ' justify-content: center'}\r\n`;\r\n\r\nexport const SkeletonWrapper = styled.div`\r\n    width: 100%;\r\n    @media (max-width: ${({ theme }) => theme.breakpoint.tablet}) {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n`;\r\n","import React, { useRef } from 'react';\r\nimport { Skeleton } from '@mui/material';\r\nimport { PropTypes } from 'prop-types';\r\nimport Scroller from '../Scroller/Scroller';\r\nimport Books from './Books/Books';\r\nimport { BookshelfStyled, BookWrapper, SkeletonWrapper } from './Bookshelf.styled';\r\n\r\nconst Bookshelf = ({ books = [] }) => {\r\n    const MAX_BOOK_PER_CELL = 5;\r\n    const bookshelfRef = useRef();\r\n    return (\r\n        <BookshelfStyled>\r\n            {books.length > MAX_BOOK_PER_CELL && (\r\n                <Scroller containerRef={bookshelfRef} scrollOffset={-100} left />\r\n            )}\r\n            <BookWrapper ref={bookshelfRef} center={books?.length <= MAX_BOOK_PER_CELL}>\r\n                {books.length > 0 ? (\r\n                    <Books books={books} />\r\n                ) : (\r\n                    new Array(4).fill(0).map((_, i) => (\r\n                        // eslint-disable-next-line react/no-array-index-key\r\n                        <SkeletonWrapper key={`bookshelf-${i}`}>\r\n                            <Skeleton\r\n                                variant=\"rectangular\"\r\n                                width=\"90%\"\r\n                                height={220}\r\n                                animation=\"wave\"\r\n                                style={{ marginBottom: 16 }}\r\n                            />\r\n                            <Skeleton\r\n                                variant=\"text\"\r\n                                width=\"80%\"\r\n                                height={10}\r\n                                animation=\"wave\"\r\n                                style={{ marginBottom: 6 }}\r\n                            />\r\n                            <Skeleton\r\n                                variant=\"text\"\r\n                                width=\"70%\"\r\n                                height={10}\r\n                                animation=\"wave\"\r\n                                style={{ marginBottom: 6 }}\r\n                            />\r\n                        </SkeletonWrapper>\r\n                    ))\r\n                )}\r\n            </BookWrapper>\r\n            {books.length > MAX_BOOK_PER_CELL && (\r\n                <Scroller containerRef={bookshelfRef} scrollOffset={100} />\r\n            )}\r\n        </BookshelfStyled>\r\n    );\r\n};\r\n\r\nBookshelf.propTypes = {\r\n    books: PropTypes.arrayOf(PropTypes.object).isRequired\r\n};\r\n\r\nexport default Bookshelf;\r\n"],"sourceRoot":""}